Title: docker应用实践
Date: 2017-01-15 10:20
Modified: 2017-01-15 10:20
Category: Linux
Tags: 集群，HA
Slug: B3
Authors: nJcx
Summary: 介绍一下docker 容器应用，记录一下学习过程
##安装
2017年4月测试正常,ubuntu16.04
```bash
sudo apt-get -y install \
  apt-transport-https \
  ca-certificates \
  curl

curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -

sudo add-apt-repository \
       "deb [arch=amd64] https://download.docker.com/linux/ubuntu \
       $(lsb_release -cs) \
       stable"

sudo apt-get update
sudo apt-get -y install docker-ce

```

##Docker的三个基本概念
* 镜像
* 容器
* 仓库

容器是镜像的一次运行,修改需要提交,仓库是放镜像的地方,hub是放仓库的地方

##小结
Docker几乎就没有什么虚拟化的东西，并且直接复用了Host主机的OS，在Docker Engine层面实现了调度和隔离重量一下子就降低了好几个档次.Docker的容器利用了LXC，管理利用了namespaces 来做权限的控制和隔离,cgroups来进行资源的配置,并且还通过aufs来进一步提高文件系统的资源利用率。其中的 aufs 是个很有意思的东西，是 UnionFS的一种.他的思想和 git 有些类似，可以把对文件系统的改动当成一次 commit 一层层的叠加。这样的话多个容器之间就可以共享他们的文件系统层次，每个容器下面都是共享的文件系统层次，上面再是各自对文件系统改动的层次，这样的话极大的节省了对存储的需求，并且也能加速容器的启动。

##一些应用
- 环境打包
- 应用隔离
- 基础镜像
